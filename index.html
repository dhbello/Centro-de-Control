<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-JB8FKBC408"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-JB8FKBC408");
    </script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Centro de Control Geod&eacute;sico Nacional</title>
    <link rel="icon" href="images/favicon.png" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link
    href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
    rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet" />
    <link href="/css/navbar-footer.css" rel="stylesheet" />
    <link href="css/maestra.css" rel="stylesheet" />
  </head>
  <body class="origen main inicio">
    <!-- header -->
    <div class="barra_gov">
      <a class="logo-gov" href="https://www.gov.co/home/" target="_blank">
          <img alt="Logo Gov.co" src="/images/nav/header_govco.png">
      </a>
    </div>
    <div class="navbarIgacContainer origen"></div>
    <div class="w-100 advice" style="position: absolute;padding: 10px; color: gray;" class="bg-info">
      <div class="container containerIgac">
        Señor usuario actualmente el IGAC se encuentra haciendo ajustes a la plataforma que se encuentra en construcción y no se han dispuesto los servicios de manera oficial. Recuerde consultar toda la información geodésica actualizada en nuestro portal Colombia en Mapas.
      </div>
    </div>
    <section class="section-portada">
      <div class="container-portada">
        <div class="portada row align-items-center justify-content-between">
          <div class="text-content col-md-6">
            <div class="title">
              Centro de Control <br />
              Geod&eacute;sico Nacional
            </div>
            <div class="summary">
              <p>
                Bienvenidos a la plataforma para la gestión de la información
                geodésica de Colombia. Es el punto de encuentro para monitorear,
                acceder y usar los datos generados por la Red Geodésica GNSS, la
                red de control Vertical de Precisión, la Red Gravimétrica y la
                Red Geomagnética.
              </p>
            </div>
          </div>
          <div class="col-md-6">
            <img src="images/bg-portada.svg" alt="">
          </div>
        </div>
      </div>
    </section>
    <div class="logosPortada">
      
      <div class="logo">
        <img
          src="images/patrocinadores/igac_0.jpg"
          alt="Servicio Geologico"
        />
      </div>
      <div class="logo">
        <img
          src="images/patrocinadores/serviciogeologico.svg"
          alt="Servicio Geologico"
        />
      </div>
      
      <div class="logo tipeD">
        <img
          src="images/patrocinadores/Sena_Colombia_logo.png"
          alt="Servicio Geologico"
        />
      </div>
      <!-- <div class="logo tipeB">
        <img
          src="images/patrocinadores/logo_celsia.svg"
          alt="Servicio Geologico"
        />
      </div> -->
      
      <div class="logo">
        <img
          src="images/patrocinadores/logo_eaab.png"
          alt="Servicio Geologico"
        />
      </div>
      <div class="logo tipec">
        <img
          src="images/patrocinadores/Galileo_Instruments_logotipo.png"
          alt="Servicio Geologico"
        />
      </div>
    </div>
    <div class="container containerIgac">
      <section class="section visor row pb-0">
        <div class="iframe col-md-12">
          <div class="title-box d-flex justify-content-between align-items-center">
            <h2 class="title">Visor de las redes geodésicas</h2>
  
            <div class="custom-control custom-switch" style=" float: right;">
              <span style="color: rgb(134, 134, 126); font-size: 20px; margin-right: 1vh;">Filtro</span>
              <select id="opcionesMapa" class="custom-select m-0" style="width: 20vw;" aria-label="Default select example">
                <option selected>Todos</option>
                <option value="4">Activa GNSS</option>                        
                <option value="2">Geomagnética</option>
                <option value="1">Gravimétrica</option>
                <option value="3">Pasiva GNSS</option>
              </select>
            </div>
          </div>
          <div id="viewDiv"></div>
        </div>
      </section>
    </div>
    <!--
    <div class="containercolor">
        <div class="container containerIgac">
            <section id="participa" class="section">
                <div class="title text-center">
                    Participa activamente de la Red
                </div>
                <div class="row card-no-border">
                    <div class="col-md-4 text-center mb-5">
                        <img src="/images/images-redes/bullets-grafico1.svg" alt="">
                        <h2 class="fw-normal">Consulta y edita <br> la ficha de los v&eacute;rtices</h2>
                    </div>
                    <div class="col-md-4 text-center mb-5 modalIntEstaciones" data-toggle="modal" data-target="#modalIntEstaciones">
                        <img src="/images/images-redes/bullets-grafico2.svg" alt="">
                        <h2 class="fw-normal">Registra y postula <br> un nuevo v&eacute;rtice</h2>
                    </div>
                    <div class="col-md-4 text-center mb-5 modalButtonReportar" data-toggle="modal" data-target="#reportarModal">
                        <img src="/images/images-redes/bullets-grafico3.svg" alt="">
                        <h2 class="fw-normal">Reporta novedades <br> sobre los v&eacute;rtices</h2>
                    </div>
                </div>
            </section>
        </div>
    </div>
    -->
    <div class="container containerIgac">
      <section class="section sumary">
        <div class="row container-cards">
          <div class="title-box">
            <h2 class="title">&iquest;Qu&eacute; est&aacute;s buscando?</h2>
          </div>
          <div class="col-md-4 mb-3 card-container" data-toggle="tooltip" data-placement="top" 
            title="Explora las características y forma de conexión a los servicios PPP, NTRIP Y VRS.">
            <a class="ref" href="https://redgeodesica.igac.gov.co/herramientas/servicios.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-1_1.svg" alt="" />
                <p class="no-decoration">Accede a los servicios en tiempo real</p>
              </div>
            </a>
          </div>

          <div class="col-md-4 mb-3 card-container" data-toggle="tooltip" data-placement="top" 
            title="Revisa el estado de la Red GNSS (Activa y Pasiva).">
            <a class="ref" href="https://redgeodesica.igac.gov.co/redes/red_geodesica.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-2_1.svg" alt="" />
                <p>Consulta el estado de la Red Geodésica GNSS</p>
              </div>
            </a>
          </div>

          <div class="col-md-4 mb-3 card-container" data-toggle="tooltip" data-placement="top" 
            title="Implementa el servicio de conversión de coordenadas acorde a la resolución 471 de 2020 del IGAC.">
            <a class="ref" href="https://origen.igac.gov.co/herramientas.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-3_1.svg" alt="" />
                <p>Convierte y transforma coordenadas</p>
              </div>
            </a>
          </div>

          <div class="col-md-4 card-container" data-toggle="tooltip" data-placement="top" 
            title="Descarga los archivos RINEX de las CORS integradas a la Red Geodésica Nacional.">
            <a class="ref" href="https://igac-cc.azurewebsites.net/redes/redes_interna/red_activa.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-4_1.svg" alt="" />
                <p>Consulta los archivos RINEX</p>
              </div>
            </a>
          </div>

          <div class="col-md-4 card-container" data-toggle="tooltip" data-placement="top" 
            title="Conoce los recursos geodésicos desarrollados por el IGAC a través de la historia.">
            <a class="ref" href="https://igac-cc.azurewebsites.net/herramientas/aplicaciones_herramientas.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-5_1.svg" alt="" />
                <p>Explora los recursos geod&eacute;sicos</p>
              </div>
            </a>
          </div>

          <div class="col-md-4 card-container" data-toggle="tooltip" data-placement="top" title="Explora las características y detalles técnicos del Nuevo Origen Nacional.">
            <a class="ref" href="https://origen.igac.gov.co/index.html">
              <div class="card card-content">
                <img src="images/images-inicio/img-card-6_1.svg" alt="" />
                <p>Conoce sobre el Origen Nacional</p>
              </div>
            </a>
          </div>
        </div>
      </section>
    </div>
    <section class="section registrarReportar paddingLast">
      <div class="title-box">
        <h2 class="title w-divider text-center">
          Participa activamente de la red
        </h2>
      </div>
      <div class="container containerIgac">
        <div class="d-flex">
          <div class="containerFaqs typeB">
            <div class="faqs typeC">
              <div class="title m-0">
                Registra y postula un nuevo vértice a la Red Geodésica
              </div>
              <div
                class="d-flex align-items-center modalEstaciones"
                data-toggle="modal"
                data-target="#modalEstaciones"
              >
                <div class="boton-faqs">
                  <a>Iniciar formulario</a>
                </div>
              </div>
            </div>
          </div>
          <div class="containerFaqs typeB">
            <div class="faqs typeD">
              <div class="title m-0">
                Reporta novedades sobre vértices de la Red
              </div>
              <div
                style="white-space: nowrap"
                class="p-0 col-md-4 text-center modalButtonReportar boton-faqs"
                data-toggle="modal"
                data-target="#reportarModal"
              >
                <a>Iniciar formulario</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer class="footer origen"></footer>    








    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="/index.js"></script>
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.24/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.24/"></script>
    <script>
      $(".carousel").carousel({
        interval: false,
      });
    </script>
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.24/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.24/"></script>


    <script>

         
        
        

        const arreglo = [
            {
              id: 1,
              popupTemplate: {
                title: "Atributos",
                outFields: ["*"],
                content: popup,
                  },
                //   definitionExpression:"es_activa_gnss = 1",                  
            }
        ];
      const cargarMapa = (arreglo) => {
        
        require([
        "esri/config",
        "esri/Map",
        "esri/views/MapView",
        "esri/widgets/Home",
        "esri/widgets/ScaleBar",
        "esri/widgets/LayerList",
        "esri/widgets/Legend",
        "esri/widgets/Expand",
        "esri/widgets/Compass",
        "esri/geometry/Extent",
        "esri/layers/MapImageLayer",
        "esri/layers/VectorTileLayer",
      ], (
        esriConfig,
        Map,
        MapView,
        Home,
        ScaleBar,
        LayerList,
        Legend,
        Expand,
        Compass,
        Extent,
        MapImageLayer,
        VectorTileLayer
      ) => {
        esriConfig.apiKey =
          "AAPK2a2e861a0c794bfdb29a1b4ce47b1583OBbY7CvHSkUPhQ20FG1hZEbAl5GmTTZcs-cyoy2tw5to5j_pJiiTW6J_KRbBx-qS";
        const vtlLayer = new VectorTileLayer({
          url: "https://tiles.arcgis.com/tiles/RVvWzU3lgJISqdke/arcgis/rest/services/Mapa_base_topografico/VectorTileServer",
        });

        const layer = new MapImageLayer({
          url: "https://mapas.igac.gov.co/server/rest/services/centrocontrol/EstacionesGeodesicas/MapServer",
          sublayers: arreglo,
        });
        const map = new Map({
          layers: [vtlLayer, layer],
        });
        const view = new MapView({
          container: "viewDiv",
          map: map,
          center: [-74, 4], // longitude, latitude
          zoom: 4.8,
        });
        const homeBtn = new Home({
          view: view,
        });
        const scaleBar = new ScaleBar({
          view: view,
          unit: "dual",
        });
        const layerList = new LayerList({
          view: view,
        });
        const legend = new Legend({
          view: view,
        });
        const layerListExpand = new Expand({
          view: view,
          content: layerList,
          expanded: false,
          expandTooltip: "Expand LayerList",
          mode: "floating",
        });
        const legendExpand = new Expand({
          view: view,
          content: legend,
          expandTooltip: "Expand Legend",
          expanded: true,
          mode: "floating",
        });
        const compass = new Compass({
          view: view,
          visible: false,
        });
        view.ui.add(homeBtn, "top-left");
        view.ui.add(scaleBar, "bottom-right");
        view.ui.add(layerListExpand, "top-right");
        view.ui.add(legendExpand, "bottom-left");
        view.ui.add(compass, "top-left");
        // load the Compass only when the view is rotated
        view.watch("rotation", function (rotation) {
          if (rotation && !compass.visible) {
            compass.visible = true;
          }
        });
      });
      
      


      }

      cargarMapa(arreglo);


      const opcionesMapa = document.querySelector('#opcionesMapa');

        opcionesMapa.addEventListener('change', ($event) => {            
            
            if($event.target.value == 1){
                const arreglo = [
                                {
                                        id: 1,
                                        popupTemplate: {
                                        title: "Atributos",
                                        outFields: ["*"],
                                        content: popup,
                                        },
                                        definitionExpression:"es_gravimetrica = 1",                  
                                    }
                                ];
                
                cargarMapa(arreglo);

            }else if($event.target.value == 2){
                const arreglo = [
                                   {
                                        id: 1,
                                        popupTemplate: {
                                        title: "Atributos",
                                        outFields: ["*"],
                                        content: popup,
                                        },
                                        definitionExpression:"es_geomagnetica = 1",                  
                                    }
                                ];
                
                cargarMapa(arreglo);
            }else if($event.target.value == 3) {
                const arreglo = [
                                    {
                                    id: 1,
                                    popupTemplate: {
                                        title: "Atributos",
                                        outFields: ["*"],
                                        content: popup,
                                        },
                                        definitionExpression:"es_pasiva_gnss = 1",                  
                                    }
                ];
                cargarMapa(arreglo);

            }else if($event.target.value == 4) {
                const arreglo = [
                                    {
                                    id: 1,
                                    popupTemplate: {
                                        title: "Atributos",
                                        outFields: ["*"],
                                        content: popup,
                                        },
                                        definitionExpression:"es_activa_gnss = 1",                  
                                    }
                ];
                cargarMapa(arreglo);
               

            } else {
                const arreglo = [
                                   {
                                        id: 1,
                                        popupTemplate: {
                                            title: "Atributos",
                                            outFields: ["*"],
                                            content: popup,
                                        }                                        
                                    }
                                ];
                cargarMapa(arreglo);
            }
        
        
        });

            </script>           
  </body>
</html>
