<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Centro de Control Geod&eacute;sico Nacional</title>
  <link rel="icon" href="images-home/logos/favicon.png">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
  <link href="../../css/style.css" rel="stylesheet">
  <link href="../../css/maestra.css" rel="stylesheet">
</head>

<body class="main redes tableroMaestra">
  <nav class="navbarigac origen">
  </nav>
  <nav class="nav nav-underline">
  </nav>
  <section class="portada-igac portadaSub portadaTable origen">
    <div class="container block-igac">
      <div class="d-flex contenido-portada">
        <div class="texto-portada">
          <h1>Tablero de control</h1>
          <p>
            Ent&eacute;rate y realiza an&aacute;lisis con los principales indicadores de las redes geod&eacute;sicas
            disponibles para el territorio colombiano.
          </p>
        </div>
      </div>
    </div>
  </section>
  <div class="containercolor typec noBefore">
    <div class="container containerIgac">
      <div class="estadisticas">

        <div class="cuadro">
          <p>Porcentaje de estaciones activas e inactivas</p>
          <div id="chart1"></div>

        </div>
        <div class="cuadro">
          <p>Número de estaciones por agencia</p>
          <div id="chart2"></div>

        </div>
      </div>
      <div class="estadisticas_all">
        <div class="cuadro">
          <p>Número total de estaciones geodésicas instaladas por año</p>
          <div id="chart3"></div>

        </div>
      </div>
        <div class="estadisticas">
          <div class="cuadro">
            <p>Número de estaciones por tipo de coordenada</p>
            <div id="chart4"></div>
  
          </div>
        </div>
        

      
    </div>
  </div>

  <footer class="footer origen">

  </footer>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js">
  </script>
  <script src="../../index.js"></script>

  <!-- Resources -->
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

  <style>
    .estadisticas {
      display: grid;
      grid-template-columns: 1fr 1fr;
      row-gap: 30px;
      column-gap: 20px;
      padding: 20px;
    }
    .estadisticas_all {
      display: grid;
      grid-template-columns: 1fr;
      row-gap: 30px;
      column-gap: 20px;
      padding: 20px;
    }

  </style>

  <script>
    $.ajax({
      type: 'POST',
      url: url_backend+"/front",
      data: {
        "id_consulta": "grafico1"
      },
      dataType: "json",
      success: function (result) {
        console.log(result[0])

        const arrOfNum = result[0].data.map(str => {
          return Number(str);
        });

        var options = {
          series: arrOfNum,
          chart: {

            type: 'pie',
          },
          legend: {
            position: 'bottom',
            labels: {
              colors: "#fff",
            },
          },
          labels: result[0].categoria,
          responsive: [{
            breakpoint: 480,
            options: {
              chart: {
                width: 200
              },
              legend: {
                position: 'bottom',

              }
            }
          }]
        };

        var chart = new ApexCharts(document.querySelector("#chart1"), options);
        chart.render();



      }
    });



    $.ajax({
      type: 'POST',
      url: url_backend+"/front",
      data: {
        "id_consulta": "grafico2"
      },
      dataType: "json",
      success: function (result) {
        console.log(result[0])

        const arrOfNum = result[0].data.map(str => {
          return Number(str);
        });

        var options = {
      series: [{
        data: arrOfNum
      }],
      chart: {
        type: 'bar',
        height: 350
      },
      plotOptions: {
        bar: {
          borderRadius: 4,

        }
      },
      xaxis: {
        categories: result[0].categoria,
        labels: {

          style: {
            colors: "#fff",
          },
        },

      },
      yaxis: {
        labels: {

          style: {
            colors: "#fff",
          },
        }
      }
    };

    var chart = new ApexCharts(document.querySelector("#chart2"), options);
    chart.render();


      }
    })


    $.ajax({
      type: 'POST',
      url: url_backend+"/front",
      data: {
        "id_consulta": "grafico3"
      },
      dataType: "json",
      success: function (result) {
        console.log(result[0])

        const arrOfNum = result[0].data.map(str => {
          return Number(str);
        });

        var options = {
      series: [{
        name: "Total",
        data: arrOfNum
      }],
      chart: {
        height: 350,
        type: 'line',
      },

      stroke: {
        curve: 'straight'
      },
      xaxis: {
        categories: result[0].categoria,
        labels: {

          style: {
            colors: "#fff",
          },
        }
      },
      yaxis: {
        labels: {
          style: {
            colors: "#fff",
          },
        }
      }
    };

    var chart = new ApexCharts(document.querySelector("#chart3"), options);
    chart.render();


      }
    })



    $.ajax({
      type: 'POST',
      url: url_backend+"/front",
      data: {
        "id_consulta": "grafico4"
      },
      dataType: "json",
      success: function (result) {
        console.log(result[0])

        const arrOfNum = result[0].data.map(str => {
          return Number(str);
        });

        var options = {
      series: arrOfNum,
      chart: {
        type: 'donut',

      },
      labels: result[0].categoria,
      legend: {
        position: 'bottom',
        labels: {
          colors: "#fff",
        },
      },
      responsive: [{
        breakpoint: 480,
        options: {
          chart: {
            width: 200
          },

        }
      }]
    };

    var chart = new ApexCharts(document.querySelector("#chart4"), options);
    chart.render();


      }
    })






  </script>

</body>

</html>
