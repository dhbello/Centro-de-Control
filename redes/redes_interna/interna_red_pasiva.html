<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-JB8FKBC408"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-JB8FKBC408");
    </script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Centro de Control Geod&eacute;sico Nacional</title>
    <link rel="icon" href="images-home/logos/favicon.png" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css"
    />
    <link href="../../css/style.css" rel="stylesheet" />
    <link href="/css/navbar-footer.css" rel="stylesheet">
    <link href="../../css/maestra.css" rel="stylesheet" />
  </head>
  <body class="main redes geodesicaMaestra redActivaPagina">
    <!-- header -->
    <div class="barra_gov">
      <a class="logo-gov" href="https://www.gov.co/home/" target="_blank">
          <img alt="Logo Gov.co" src="/images/nav/header_govco.png">
      </a>
    </div>
    <div class="navbarIgacContainer origen"></div>
    <nav class="nav nav-underline"></nav>
    <section class="portada-igac portadaSub redActiva">
      <div class="container block-igac">
        <div class="contenido-portada">
          <a class="get-back" href="../red_geodesica.html"
            ><img src="/images/iconos/arrow-back.svg" alt="" />Volver a la Red
            Pasiva</a
          >
          <div class="texto-portada">
            <h1 id="titulo"></h1>
            <div class="title" id="depto"></div>
            <div class="title" id="muni"></div>
          </div>
        </div>
      </div>
    </section>
    <div class="container containerIgac infoUbicacionContainer">
      <div class="row">
        <div class="col-md-6">
          <section class="section infoUbicacion">
            <h3 class="h3">Nomenclatura Estandarizada 91263001</h3>
            <div class="title" id="departamento"></div>
            <div class="item" id="municipio"></div>
            <div class="item" id="barrio"></div>
            <div class="item" id="localizacion"></div>
          </section>
          <div class="divider"></div>
          <section class="section infoUbicacion pt-0">
            <div class="title">Coordenadas Navegadas MAGNA SIRGAS</div>
            <div class="item" id="latitud"></div>
            <div class="item" id="longitud"></div>
            <div class="item" id="altura"></div>
          </section>
          <div class="divider"></div>
          <section class="section infoUbicacion pt-0">
            <div class="title">Monumentación</div>
            <div class="item" id="tipo_materializacion">Tipo de Monumento:</div>
            <div class="item" id="fecha_materializacion">
              Fecha Monumentaci&oacute;n:
            </div>
            <div class="item" id="altura_referencia_antena">
              Altura Instrumental (m):
            </div>
            <div class="item" id="lugar_materializacion">
              Localizaci&oacute;n:
            </div>
            <div class="item" id="divipola2"></div>
          </section>
        </div>
        <div class="col-md-6">
          <section class="section infoUbicacion pb-0">
            <h3 class="h3">Nomenclatura Placa</h3>
            <div class="row" id="fotos">
              <div class="col-md-6 mt-4">
                <div class="title">Croquis General</div>
                <div class="item" id="img_croquis"></div>
              </div>
              <div class="col-md-6 mt-4">
                <div class="title">Croquis detallado</div>
                <div class="item" id="img_detallado"></div>
              </div>
              <div class="col-md-6 mt-4">
                <div class="title">Perfil</div>
                <div class="item" id="img_perfil"></div>
              </div>
              <div class="col-md-6 mt-4">
                <div class="title">Acceso general</div>
                <div class="item">
                  Partiendo del puerto fluvial se toma la v&iacute;a hacia el
                  norte en direcci&oacute;n a la escuela del corregimiento hasta
                  encontrar la zona del estadio y cancha de futbol, lugar donde
                  se determino el v&eacute;rtice 91263001.
                </div>
              </div>
            </div>

            <div class="row" id="fotos">
              <div class="col-md-6 mt-4">
                <div class="title">Diagrama de obstaculos</div>
                <div class="item" id="img_obstaculos"></div>
              </div>
              <div class="col-md-6 mt-4">
                <div class="title">Imagen de la placa</div>
                <div class="item" id="img_placa"></div>
              </div>
            </div>

            <section class="section infoUbicacion pt-0">
              <div class="title">
                Referencia medidas de los objetos al punto
              </div>
              <table id="tbl_puntos" class="customeTable">
                <tr>
                  <th>N°</th>
                  <th>Objeto</th>
                  <th>Azimut Magnético(°)</th>
                  <th>Distancia (m)</th>
                </tr>
              </table>
            </section>
          </section>
        </div>
        <!--
            <div class="divider"></div>
            <div class="col-md-6">
                <section class="section infoUbicacion pt-0">
                    <div class="title">
                        Monumentaci&oacute;n
                    </div>
                    <div class="item" id="fecha_materializacion">

                    </div>
                    <div class="item" id="tipo_materializacion">

                    </div>
                    <div class="item" >
                        Monumentado por:
                    </div>
                    <div class="item">
                        Estado del punto:
                    </div>
                    <div class="item">
                        Ancho(m):
                    </div>
                    <div class="item">
                        Largo(m):
                    </div>
                    <div class="item">
                        Altura(m):
                    </div>
                </section>
            </div>
            <div class="col-md-6">
                <section class="section infoUbicacion pt-0 pb-0">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="title">
                                Diagrama de obst&aacute;culos
                            </div>
                            <div class="item">
                                <img src="/images/images-redes/diagaramaObstaculos.png" alt="">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="title">
                                Imagen de la Placa
                            </div>
                            <div class="item">
                                <img src="/images/images-redes/imagenPlaca.png" alt="">
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div class="divider"></div>
            <div class="col-md-6">
                <section class="section infoUbicacion pt-0">
                    <div class="title">
                        Referencias medidas de los objetos al punto
                    </div>
                    <table class="customeTable">
                        <tbody>
                            <tr>
                                <th>NO</th>
                                <th>Objeto</th>
                                <th>Azimut Magn&eacute;tico(&deg;)</th>
                                <th>Distancia (m)</th>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td>
                                    1
                                </td>
                                <td>
                                    Esquina coliseo
                                </td>
                                <td>
                                    250°
                                </td>
                                <td>
                                    20.0
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    2
                                </td>
                                <td>
                                    Luminaria
                                </td>
                                <td>
                                    340°
                                </td>
                                <td>
                                    26.0
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    3
                                </td>
                                <td>
                                    Luminaria
                                </td>
                                <td>
                                    350°
                                </td>
                                <td>
                                    22.0
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    4
                                </td>
                                <td>
                                    Sendero
                                </td>
                                <td>
                                    170°
                                </td>
                                <td>
                                    4.0
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </section>
            </div>
            <div class="col-md-6">
                <section class="section infoUbicacion pt-0">
                    <div class="title">
                        Descripci&oacute;n Detallada
                    </div>
                    <div class="item">
                        El v&eacute;rtice 91530001 se determino en la zona verde al costado occidental del coliseo , junto al sendero.
                    </div>
                </section>
                <div class="divider"></div>
                <section class="section infoUbicacion pt-0">
                    <div class="title">
                        Describi&oacute;
                    </div>
                    <div class="item">
                        LOBSANG ALFONSO TABARES
                    </div>
                </section>
            </div>
            -->
      </div>
    </div>

    <footer class="footer origen"></footer>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"
    ></script>
    <script src="/index.js"></script>

    <script>
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return "";
        return decodeURIComponent(results[2].replace(/\+/g, " "));
      }
      var estacion = getParameterByName("estacion");
      var nombre = getParameterByName("nombre");

      document.getElementById("titulo").innerHTML = nombre;

      function check(data) {
        if (data == null) {
          return "Sin información";
        } else {
          return data;
        }
      }

      $.ajax({
        type: "get",
        url: url_backend + "/json_detalle_activa",
        data: {
          id: estacion,
        },
        dataType: "json",
        success: function (result) {
          console.log(result);

          var obj = result[0];

          document.getElementById("depto").innerHTML =
            "Departamento: " + check(obj.departamento);
          document.getElementById("muni").innerHTML =
            "Municipio: " + check(obj.municipio);

          document.getElementById("departamento").innerHTML =
            "Departamento: " + check(obj.departamento);
          document.getElementById("municipio").innerHTML =
            "Municipio: " + check(obj.municipio);
          document.getElementById("barrio").innerHTML =
            "Barrio: " + check(obj.agencia_direccion);
          document.getElementById("localizacion").innerHTML =
            "Localizacion: " + check(obj.agencia_direccion);

          document.getElementById("latitud").innerHTML =
            "Latitud (φ): " + check(obj.latitud);
          document.getElementById("altura").innerHTML =
            "Altura Elipsoidal (Һ): " + check(obj.altura_elipsoidal);
          document.getElementById("longitud").innerHTML =
            "Longitud (ג): " + check(obj.longitud);

          document.getElementById("tipo_materializacion").innerHTML =
            "Tipo de Monumento: " + check(obj.tipo_materializacion);
          document.getElementById("fecha_materializacion").innerHTML =
            "Fecha Monumentación: " + check(obj.fecha_materializacion);
          document.getElementById("altura_referencia_antena").innerHTML =
            "Altura Instrumental (m): " + check(obj.altura_referencia_antena);
          document.getElementById("lugar_materializacion").innerHTML =
            "Localización: " + check(obj.lugar_materializacion);
          document.getElementById("divipola2").innerHTML =
            "Código Municipio: " + check(obj.codigo);

          var img = document.createElement("img");
          img.src =
            "https://redgeodesica-cg.igac.gov.co/croquis/" + nombre + "/3";
          var src = document.getElementById("img_croquis");
          src.appendChild(img);

          var img = document.createElement("img");
          img.src =
            "https://redgeodesica-cg.igac.gov.co/croquis/" + nombre + "/2";
          var src = document.getElementById("img_detallado");
          src.appendChild(img);

          var img = document.createElement("img");
          img.src =
            "https://redgeodesica-cg.igac.gov.co/croquis/" + nombre + "/1";
          var src = document.getElementById("img_perfil");
          src.appendChild(img);

          var img = document.createElement("img");
          img.src =
            "https://redgeodesica-cg.igac.gov.co/croquis/" + nombre + "/5";
          var src = document.getElementById("img_obstaculos");
          src.appendChild(img);

          var img = document.createElement("img");
          img.src =
            "https://redgeodesica-cg.igac.gov.co/croquis/" + nombre + "/4";
          var src = document.getElementById("img_placa");
          src.appendChild(img);

          if (obj.fotos_campo) {
            var cols = obj.fotos_campo.length;

            for (i = 0; i < cols; i++) {
              console.log(obj.fotos_campo[i]);

              $("#fotos").append(
                "<div class'col-md-6>" +
                  "<div class='title'>" +
                  "Foto" +
                  "</div>" +
                  "<div class='item'>" +
                  "<img src='" +
                  obj.fotos_campo[i].archivo +
                  "' alt=''>" +
                  "</div>" +
                  "</div>"
              );
            }
          }

          if (obj.punto_referencia) {
            var cols = obj.punto_referencia.length;

            for (i = 0; i < cols; i++) {
              $("#tbl_puntos tr:last").after(
                "<tr><td>" +
                  (i + 1) +
                  "</td><td>" +
                  obj.punto_referencia[i].objeto +
                  "</td><td>" +
                  obj.punto_referencia[i].azimut +
                  "</td><td>" +
                  obj.punto_referencia[i].distancia +
                  "</td></tr>"
              );
            }
          } else {
            var tableHeaderRowCount = 1;
            var table = document.getElementById("tbl_puntos");
            var rowCount = table.rows.length;
            console.log(rowCount);
            for (var i = tableHeaderRowCount; i < rowCount; i++) {
              table.deleteRow(tableHeaderRowCount);
            }
            $("#tbl_puntos").after(
              "<p style='text-align: center; font-size: 16px'>Sin información</p>"
            );
          }
        },
      });
    </script>
  </body>
</html>
